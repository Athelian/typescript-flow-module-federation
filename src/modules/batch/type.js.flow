// @flow

type BatchCommon = {
  producedAt?: ?string,
  deliveredAt?: ?string,
  expiredAt?: ?string,
  packageName?: ?string,
  packageQuantity?: ?number,
  packageCapacity?: ?number,
  packageGrossWeight?: ?{
    value: number,
    metric: string,
  },
  packageVolume?: ?{
    value: number,
    metric: string,
  },
  packageSize?: ?{
    length: {
      value: number,
      metric: string,
    },
    width: {
      value: number,
      metric: string,
    },
    height: {
      value: number,
      metric: string,
    },
  },
  tags?: ?Array<{
    id: string,
    name: string,
    color: string,
  }>,
};

export type BatchNew = BatchCommon & {
  no: string,
  quantity: number,
  orderItem: {
    id: string,
    quantity: number,
    price: {
      amount: number,
      currency: string,
    },
    order: {
      id: string,
      poNo: string,
    },
    productProvider: {
      id: string,
      product: {
        id: string,
        name: string,
        serial: string,
      },
      exporter: {
        id: string,
        name: string,
      },
      supplier: {
        id: string,
        name: string,
      },
    },
  },
  batchAdjustments?: ?Array<{
    reason: 'Inspection' | 'Lost' | 'Other',
    quantity: number,
    memo: ?string,
  }>,
};

export type BatchDetail = BatchCommon & {
  id: string,
  archived?: boolean,
  updatedAt: string,
  updatedBy: {
    firstName: string,
    lastName: string,
  },
  no?: string,
  quantity?: number,
  batchAdjustments?: ?Array<{
    id: string,
    sort: number,
    updatedAt: string,
    updatedBy: {
      firstName: string,
      lastName: string,
    },
    reason: 'Inspection' | 'Lost' | 'Other',
    quantity: number,
    memo: ?string,
  }>,
};
